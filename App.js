import React from 'react';
import { StyleSheet, View } from 'react-native';
import PlaceList from "./src/components/PlaceList/PlaceList";
import PlaceInput from "./src/components/PlaceInput/PlaceInput";
import PlaceDetail from "./src/components/PlaceDetail/PlaceDetail";
export default class App extends React.Component {
  state = 
  {
    placeName:"",
    places:[],
    selectedPlace:null
  }
  placeNameChangedHandler = value=>
  {
    
    this.setState({
      placeName:value
    });
  }
  placeSubmitHandler = ()=>{
    if(this.state.placeName.trim() === "")
    {
      return;
    }
    
   this.setState(prevState=>{
     
     return{
       places:prevState.places.concat({
         key:Math.random().toString(),
         name:prevState.placeName,
         image:{
           uri:"data:image/jpeg;base64,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"
         }
       })
     }
   })
    
  }
  placeSelectedHandler = key=>{
   this.setState(prevState=>{
     return{selectedPlace:prevState.places.find(place=>{
       return place.key === key;
     })}
   })
    // this.setState(prevState=>{
    //   return {
    //     places:prevState.places.filter((place)=>{
    //       return key !== place.key;
    //     })
    //   }
    // })
  }
  render() {
   
    return (
      <View style = {styles.container}>
      <PlaceDetail selectedPlace = {this.state.selectedPlace}/>
      <PlaceInput title = "Add" value = {this.state.placeName} 
      onChangeText  = {this.placeNameChangedHandler}
      onPress = {this.placeSubmitHandler} />
        <PlaceList places = {this.state.places} onItemSelected = {this.placeSelectedHandler}/>
      </View>
    );
  }
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    padding:26,
    backgroundColor: '#fff',
    alignItems: 'center',
    justifyContent: 'flex-start',
  }
});
